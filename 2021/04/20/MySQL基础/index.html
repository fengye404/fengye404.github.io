<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL基础 | fengye's blog</title><meta name="author" content="风业"><meta name="copyright" content="风业"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="DQL查询基础查询 语法  1234SELECT  查询列表FROM  表名;   起别名  12345678910# 起别名SELECT   name AS my_name   # 第一种方式FROM   students;  SELECT   name my_name   # 第二种方式FROM   students;    去重  1234SELECT   DISTINCT name FRO">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL基础">
<meta property="og:url" content="https://fengye404.top/2021/04/20/MySQL%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="fengye&#39;s blog">
<meta property="og:description" content="DQL查询基础查询 语法  1234SELECT  查询列表FROM  表名;   起别名  12345678910# 起别名SELECT   name AS my_name   # 第一种方式FROM   students;  SELECT   name my_name   # 第二种方式FROM   students;    去重  1234SELECT   DISTINCT name FRO">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://q1.qlogo.cn/g?b=qq&nk=1129126684&s=640">
<meta property="article:published_time" content="2021-04-20T07:27:47.000Z">
<meta property="article:modified_time" content="2024-12-31T07:33:10.506Z">
<meta property="article:author" content="风业">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://q1.qlogo.cn/g?b=qq&nk=1129126684&s=640"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://fengye404.top/2021/04/20/MySQL%E5%9F%BA%E7%A1%80/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL基础',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/img/background.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://q1.qlogo.cn/g?b=qq&amp;nk=1129126684&amp;s=640" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">fengye's blog</span></a><a class="nav-page-title" href="/"><span class="site-name">MySQL基础</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">MySQL基础</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-04-20T07:27:47.000Z" title="Created 2021-04-20 15:27:47">2021-04-20</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-12-31T07:33:10.506Z" title="Updated 2024-12-31 15:33:10">2024-12-31</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">5k</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:720,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2024-12-31 15:33:10&quot;}" hidden></div><h2 id="DQL查询"><a href="#DQL查询" class="headerlink" title="DQL查询"></a>DQL查询</h2><h4 id="基础查询"><a href="#基础查询" class="headerlink" title="基础查询"></a>基础查询</h4><ul>
<li>语法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">  查询列表</span><br><span class="line">FROM</span><br><span class="line">  表名;</span><br></pre></td></tr></table></figure>

<ul>
<li>起别名</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 起别名</span><br><span class="line">SELECT </span><br><span class="line">  name AS my_name   # 第一种方式</span><br><span class="line">FROM </span><br><span class="line">  students;  </span><br><span class="line"></span><br><span class="line">SELECT </span><br><span class="line">  name my_name   # 第二种方式</span><br><span class="line">FROM </span><br><span class="line">  students; </span><br></pre></td></tr></table></figure>

<ul>
<li>去重</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">  DISTINCT name </span><br><span class="line">FROM </span><br><span class="line">  students;</span><br></pre></td></tr></table></figure>

<ul>
<li>字段拼接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MySQL中的&#x27;+&#x27;号只能作为运算符</span><br><span class="line">SELECT </span><br><span class="line">  CONCAT(last_name,first_name) AS name</span><br><span class="line">FROM</span><br><span class="line">  students;</span><br></pre></td></tr></table></figure>

<h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><ul>
<li>语法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">  查询列表</span><br><span class="line">FROM</span><br><span class="line">  表名</span><br><span class="line">WHERE</span><br><span class="line">  筛选条件;</span><br></pre></td></tr></table></figure>

<ul>
<li>逻辑运算符</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp; 等价于AND </span><br><span class="line">|| 等价于OR </span><br><span class="line"> ！等价于NOT</span><br><span class="line"># 从students表中选取id在10到20之间的学生的name(开区间)</span><br><span class="line">SELECT</span><br><span class="line">  name </span><br><span class="line">FROM </span><br><span class="line">  students</span><br><span class="line">WHERE</span><br><span class="line">  id &gt; 10 AND id &lt; 20;</span><br></pre></td></tr></table></figure>

<h4 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h4><ul>
<li>like</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">通配符：% 任意多个字符</span><br><span class="line">        _ 任意单个字符</span><br><span class="line">转义字符： &#x27;\_&#x27;  &#x27;\%&#x27;</span><br><span class="line">           &#x27;&amp;_&#x27; ESCAPE &#x27;&amp;&#x27; (&amp;可为任意符号)</span><br><span class="line"># 从students表中查询name字段中第三个为A，第五个为_，第六个为%的学生</span><br><span class="line">SELECT</span><br><span class="line">  *</span><br><span class="line">FROM</span><br><span class="line">  students</span><br><span class="line">WHERE</span><br><span class="line">  name LIKE &#x27;__A_\_\%%&#x27;;</span><br><span class="line"># 等价于 name LIKE &#x27;__A_$_$%%&#x27; ESCAPE &#x27;$&#x27;;</span><br></pre></td></tr></table></figure>

<ul>
<li>between a and b</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 从students表中查询id在100到120之间的学生信息(闭区间)</span><br><span class="line">SELECT</span><br><span class="line">  *</span><br><span class="line">FROM</span><br><span class="line">  students</span><br><span class="line">WHERE</span><br><span class="line">  id BETWEEN 100 ADN 120;</span><br><span class="line"># 等价于 id &gt;=100 AND id &lt;=120;</span><br><span class="line">1、BETWEEN AND是闭区间</span><br><span class="line">2、a表达式必须&lt;=b表达式</span><br></pre></td></tr></table></figure>

<ul>
<li>in</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 从students表中查询id为60，70，80，90的学生信息</span><br><span class="line">SELECT</span><br><span class="line">  *</span><br><span class="line">FROM</span><br><span class="line">  students</span><br><span class="line">WHERE</span><br><span class="line">  id IN (&#x27;60&#x27;,&#x27;70&#x27;,&#x27;80&#x27;,&#x27;90&#x27;);</span><br><span class="line"># 等价于 id = &#x27;60&#x27; OR id = &#x27;70&#x27; OR id = &#x27;80&#x27; OR id = &#x27;90&#x27;;</span><br></pre></td></tr></table></figure>

<ul>
<li>is null</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 从students表中查询id不存在的学生信息</span><br><span class="line">SELECT</span><br><span class="line">  *</span><br><span class="line">FROM</span><br><span class="line">  students</span><br><span class="line">WHERE</span><br><span class="line">  id IS NULL;</span><br><span class="line"># 等价于id &lt;=&gt; NULL</span><br><span class="line"># &lt;=&gt;安全等于   &lt;&gt;安全不等于</span><br><span class="line"># mysql中不能用id = NULL判断</span><br></pre></td></tr></table></figure>

<h4 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h4><ul>
<li>语法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">  查询列表</span><br><span class="line">FROM</span><br><span class="line">  表名</span><br><span class="line">(筛选条件)</span><br><span class="line">ORDER BY </span><br><span class="line">  排序列表 （ASC|DESC）</span><br><span class="line"># 默认ASC升序</span><br><span class="line">排序列表可以是单个字段、多个字段、表达式、函数、别名等</span><br></pre></td></tr></table></figure>

<h4 id="常见函数"><a href="#常见函数" class="headerlink" title="常见函数"></a>常见函数</h4><h5 id="单行函数"><a href="#单行函数" class="headerlink" title="单行函数"></a>单行函数</h5><ul>
<li>字符函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"># 1、1ength获取参数值的字节个数</span><br><span class="line">SELECT LENGTH(&#x27;hello&#x27;);</span><br><span class="line"># 5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 2、concat 拼接字符串</span><br><span class="line">SELECT CONCAT(last_name,&#x27;_&#x27;,first_name) 姓名 FROM students;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 3、upper、lower 大小写转换</span><br><span class="line">SELECT UPPER(&#x27;hello&#x27;);</span><br><span class="line"># HELLO</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 4、substr\substring 字符串截取</span><br><span class="line"># 注意所有SQL语句的索引都是从1</span><br><span class="line"></span><br><span class="line"># 返回从第三个位置开始到字符串结尾的子字符串</span><br><span class="line">SELECT SUBSTR(&#x27;I love you&#x27;,3);</span><br><span class="line"># love you</span><br><span class="line"></span><br><span class="line"># 返回从第三个位置开始长度为4的子字符串</span><br><span class="line">SELECT SUBSTR(&#x27;I love you&#x27;,3，4);</span><br><span class="line"># love</span><br><span class="line"></span><br><span class="line"># 返回从倒数第五个位置开始长度为3的子字符串</span><br><span class="line">SELECT SUBSTR(&#x27;I love you&#x27;,-3，3);</span><br><span class="line"># you</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 5、instr 返回字符串第一次出现的索引，如果找不到则返回0</span><br><span class="line">SELECT INSTR(&#x27;I love you&#x27;,&#x27;love&#x27;);</span><br><span class="line"># 3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 6、trim 去除前后空格</span><br><span class="line">SELECT LENGTH(&#x27;        hello        &#x27;);</span><br><span class="line"># 5</span><br><span class="line"></span><br><span class="line"># 去除其他字符</span><br><span class="line">SELECT TRIM(&#x27;a&#x27; FROM &#x27;aaaaaaaaaaaaaahelloaaaaaaaaaaa&#x27;);</span><br><span class="line"># hello</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 7、lpad(rpad) 用指定字符实现左(右)填充指定长度</span><br><span class="line">SELECT LPAD(&#x27;hello&#x27;，10，&#x27;$&#x27;);</span><br><span class="line"># $$$$$hello</span><br><span class="line"></span><br><span class="line"># 如果原长度超过指定长度，则从右开始截断</span><br><span class="line">SELECT LPAD(&#x27;hello&#x27;,2,&#x27;$&#x27;);</span><br><span class="line"># he</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 8、replace 替换</span><br><span class="line">SELECT REPLACE(&#x27;I love you&#x27;,&#x27;you&#x27;,&#x27;she&#x27;);</span><br><span class="line"># I love she</span><br></pre></td></tr></table></figure>

<ul>
<li>数学函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 1、round 四舍五入</span><br><span class="line">SELECT ROUND(1.65);</span><br><span class="line"># 2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 2、ceil(floor) 向上(向下)取整，返回&gt;=(&lt;=)该参数的最小整数</span><br><span class="line">SELECT CEIL(1.02);</span><br><span class="line"># 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 3、truncate 截断(保留小数点后多少位)</span><br><span class="line">SELECT TRUNCATE(1.14514,1);</span><br><span class="line"># 1.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 4、mod 取余</span><br><span class="line">SELECT MOD(10,3);</span><br><span class="line">#等同于SELECT 10%3;</span><br><span class="line"># 1</span><br></pre></td></tr></table></figure>

<ul>
<li>日期函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># 1、now 返回当前系统日期+时间</span><br><span class="line">SELECT NOW();</span><br><span class="line"># 2021-04-09 16:05:36</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 2、curdate 返回当前系统日期，不包含时间</span><br><span class="line">SELECT CURDATE();</span><br><span class="line"># 2021-04-09</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 3、curtime 返回当前系统时间，不包含日期</span><br><span class="line">SELECT CURTIME();</span><br><span class="line"># 16:05:36</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 4、获取指定的部分年、月、日、小时、分钟</span><br><span class="line">SELECT YEAR(NOW());</span><br><span class="line"># 2021</span><br><span class="line"># 类似还有MONTH()、DAY()、HOUR()等</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 5、str_to_date 将字符通过指定格式转化为日期</span><br><span class="line">SELECT STR_TO_DATE(&#x27;1998-3-2&#x27;,&#x27;%Y-%c-%d&#x27;);</span><br><span class="line"># 1998-03-02</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 6、date_format 将日期转换为字符</span><br><span class="line">SELECT DATE_FORMAT(NOW(),&#x27;%Y年%m月%d日&#x27;);</span><br><span class="line"># 2021年04月09日                                                                 </span><br></pre></td></tr></table></figure>

<ul>
<li>流程控制函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 1、if函数： 类似于三目运算符</span><br><span class="line">SELECT IF(10&lt;5,&#x27;大&#x27;,&#x27;小&#x27;);</span><br><span class="line"># 大</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 2、case函数： </span><br><span class="line"># 使用一：类似于switch case</span><br><span class="line">CASE sid;</span><br><span class="line">WHEN 10 THEN grade+10;</span><br><span class="line">WHEN 20 THEN grade+20;</span><br><span class="line">WHEN 30 THEN grade+30;</span><br><span class="line">ELSE grade+2;</span><br><span class="line">END</span><br><span class="line"></span><br><span class="line"># 使用二：类似于 if else</span><br><span class="line">CASE</span><br><span class="line">WHEN sid&gt;2000 THEN &#x27;A&#x27;</span><br><span class="line">WHEN sid&gt;1000 THEN &#x27;B&#x27;</span><br><span class="line">WHEN sid&gt;500  THEN &#x27;C&#x27;</span><br><span class="line">ELSE &#x27;D&#x27;</span><br><span class="line">END</span><br></pre></td></tr></table></figure>

<ul>
<li>其他函数</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># version 查看版本</span><br><span class="line"># datebase 查看数据库</span><br><span class="line"># user 查看当前用户</span><br></pre></td></tr></table></figure>

<h5 id="分组函数"><a href="#分组函数" class="headerlink" title="分组函数"></a>分组函数</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">功能：</span><br><span class="line">用作统计使用，又称为聚合函数或统计函数或组合函数</span><br><span class="line">分类：</span><br><span class="line">sum 求和、 avg 平均值、 max 最大值、 min 最小值、 count 计算个数</span><br><span class="line">特点：</span><br><span class="line">1、sum、avg一般处理数值型</span><br><span class="line">   max、min、count可以处理任何类型</span><br><span class="line">2、以上分组函数都忽略null值</span><br><span class="line">3、可以和distinct搭配实现去重</span><br><span class="line">4、count(*)等价于count(常量),作用为统计表里全部数据的个数</span><br><span class="line">5、和分组函数一同查询的字段要求是group by后的字段                                                                                                                                                                                                                                                                                                                                                                                                                              </span><br></pre></td></tr></table></figure>

<h4 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h4><ul>
<li>语法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT 分组函数，列(要求出现在group by的后面)</span><br><span class="line">FROM 表</span><br><span class="line">[WHERE 筛选条件]</span><br><span class="line">GROUP BY 分组的列表</span><br><span class="line">[ORDER BY 子句]</span><br><span class="line">注意：查询列表必须要求是分组函数+group by后出现的字段</span><br></pre></td></tr></table></figure>

<ul>
<li>简单分组</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 案例1：查询一个公司每个工种的最高工资</span><br><span class="line">SELECT MAX(salary),job_id</span><br><span class="line">FROM employees</span><br><span class="line">GROUP BY job_id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例2：查询每个位置上的部门个数</span><br><span class="line">SELECT COUNT(*),location_id</span><br><span class="line">FROM departments</span><br><span class="line">GROUP BY location_id;</span><br></pre></td></tr></table></figure>

<ul>
<li>分组前的筛选</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">在分组前用where关键字</span><br><span class="line"># 案例3：查询邮箱中包含a字符的，每个部门的平均工资</span><br><span class="line">SELECT AVG(salary),department_id</span><br><span class="line">FROM employees</span><br><span class="line">WHERE email like &#x27;%a%&#x27;</span><br><span class="line">GROUP BY department_id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例4：查询有奖金的每个领导的手下员工的最高工资</span><br><span class="line">SELECT MAX(salary),manager_id</span><br><span class="line">FROM employees</span><br><span class="line">WHERE commission_pct IS NOT NULL</span><br><span class="line">GROUP BY manager</span><br></pre></td></tr></table></figure>

<ul>
<li>分组后的筛选</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">在分组查询后用having关键词取代where</span><br><span class="line"># 案例5：查询哪个部门的员工个数&gt;2</span><br><span class="line">SELECT COUNT(*),department_id</span><br><span class="line">FROM employees</span><br><span class="line">GROUP BY department_id</span><br><span class="line">HAVING COUNT(*)&gt;2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例6：查询每个工种有奖金的员工的最高工资&gt;12000的工种编号和最高工资</span><br><span class="line">SELECT MAX(salary),job_id</span><br><span class="line">FROM employees</span><br><span class="line">GROUP BU job_id</span><br><span class="line">HAVING MAX(salary)&gt;12000;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例7：查询领导编号&gt;102的每个领导手下的员工最低工资&gt;5000的领导编号，以及其最低工资</span><br><span class="line">SELECT MIN(salary),manager_id</span><br><span class="line">FROM employees</span><br><span class="line">WHERE manager_id&gt;102</span><br><span class="line">GROUP BY manager_id</span><br><span class="line">HAVING MIN(salary)&gt;5000</span><br></pre></td></tr></table></figure>

<ul>
<li>按表达式或函数分组</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 案例8：按员工姓名的长度分组，查询每一组的员工个数，筛选员工个数大于5的有哪些</span><br><span class="line">SELECT COUNT(*)</span><br><span class="line">FROM employees</span><br><span class="line">GROUP BY LENGTH(last_name)</span><br><span class="line">HAVING COUNT(*)&gt;5;</span><br></pre></td></tr></table></figure>

<ul>
<li>按多个字段分组</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 案例9：查询每个部门每个工种的员工的平均工资</span><br><span class="line">SELECT AVG(salary),department_id,job_id</span><br><span class="line">FROM employees</span><br><span class="line">GROUP BY department_id,job_id;</span><br><span class="line">#将department_id和job_id一致的分成一组</span><br></pre></td></tr></table></figure>

<ul>
<li>添加排序</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 案例10：查询每个部门每个工种的员工的平均工资，并且按平均工资降序显示</span><br><span class="line">SELECT AVG(salary),department_id,job_id</span><br><span class="line">FROM employees</span><br><span class="line">GROUP BY department_id,job_id</span><br><span class="line">ORDER BY AVG(salary) DESC;</span><br></pre></td></tr></table></figure>

<h4 id="连接查询-多表查询"><a href="#连接查询-多表查询" class="headerlink" title="连接查询&#x2F;多表查询"></a>连接查询&#x2F;多表查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">当查询的字段来涉及个表时，就需要用到连接查询</span><br><span class="line">按年代分类：</span><br><span class="line">  sql92标准：只支持内连接</span><br><span class="line">  sql99标准：支持内连接+外连接（左外+右外）+交叉连接</span><br><span class="line">按功能分类：</span><br><span class="line">  内连接：</span><br><span class="line">    等值连接</span><br><span class="line">    非等值连接</span><br><span class="line">    自连接</span><br><span class="line">  外连接：</span><br><span class="line">    左外连接</span><br><span class="line">    右外连接</span><br><span class="line">    全外连接</span><br><span class="line">  交叉连接</span><br></pre></td></tr></table></figure>

<h5 id="sql92标准"><a href="#sql92标准" class="headerlink" title="sql92标准"></a>sql92标准</h5><h6 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h6><ul>
<li>等值连接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"># 案例1：查询女生名和对应的男生名</span><br><span class="line">SELECT girl_name,boy_name</span><br><span class="line">FROM boys,girls</span><br><span class="line">WHERE girls.boyfriend_id=boys.id;</span><br><span class="line"># 用表名限定字段</span><br><span class="line"># 表的先后顺序没有要求</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例2：查询员工名和对应的部门名</span><br><span class="line">SELECT name,department_name</span><br><span class="line">FROM employees,departments</span><br><span class="line">WHERE employees.department_id=departments.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例3：查询员工名，工种号，工种名</span><br><span class="line">SELECT name,e.job_id,job_name</span><br><span class="line">FROM employees e,jobs j</span><br><span class="line">WHERE e.job_id=j.id;</span><br><span class="line"># 为表起别名，起了别名后不能再用原名</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 添加筛选</span><br><span class="line"># 案例4：查询有奖金的员工名、部门名</span><br><span class="line">SELECT name,department_name</span><br><span class="line">FROM employees e, departments d</span><br><span class="line">WHERE e.department_id=d.id</span><br><span class="line">AND e.commission_pct IS NOT NULL</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例5：查询位置名中第二个字符为o的部门名和位置名</span><br><span class="line">SELECT department_name, location_name</span><br><span class="line">FROM departments d, locations l</span><br><span class="line">WHERE d.location_id=l.location_name</span><br><span class="line">AND l.location_name LIKE &#x27;_o%&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 添加分组</span><br><span class="line"># 案例6：查询每个城市的部门个数和城市名</span><br><span class="line">SELECT COUNT(*),city</span><br><span class="line">FROM departments d, citys c</span><br><span class="line">WHERE d.city_id=c.id;</span><br><span class="line">GROUP BY city;        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例7：查询有奖金的每个部门的部门名和部门的领导编号和该部门的最低工资</span><br><span class="line">SELECT department_name, d.manager_id, MIN(salary)</span><br><span class="line">FROM departments d, employees e</span><br><span class="line">WHERE e.department_id=d.id</span><br><span class="line">AND commission_pct IS NOT NULL</span><br><span class="line">GROUP BY department_name, d.manager_id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 添加排序</span><br><span class="line"># 案例8：查询每个工种的工种名和员工的个数，并且按员工个数降序</span><br><span class="line">SELECT job_name, COUNT(*)</span><br><span class="line">FROM jobs j, employees e</span><br><span class="line">WHERE e.job_id=j.id</span><br><span class="line">GROUP BY job_name</span><br><span class="line">ORDER BY COUNT(*) DESC</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 实现三表连接</span><br><span class="line"># 案例9：查询员工名、部门名和所在的城市</span><br><span class="line">SELECT name，department_name, city</span><br><span class="line">FROM employees e, departments d, citys c</span><br><span class="line">WHERE e.department_id=d.id</span><br><span class="line">AND d.city_id=c.id</span><br></pre></td></tr></table></figure>

<ul>
<li>非等值连接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 案例1：查询员工的工资和工资级别</span><br><span class="line">SELECT salary, grade_level</span><br><span class="line">FROM employees e, job_grades g</span><br><span class="line">WHERE salary BETWEEN g.lowest_sal AND g.highest_sal;</span><br></pre></td></tr></table></figure>

<ul>
<li>自连接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">把一张表当作多张表来用</span><br><span class="line"># 案例1：查询员工名和上级的名称</span><br><span class="line">SELECT e.name, m.name</span><br><span class="line">FROM employees e, employees m</span><br><span class="line">WHERE e.manager_id=m.employee_id;</span><br></pre></td></tr></table></figure>

<h5 id="sql99标准-推荐"><a href="#sql99标准-推荐" class="headerlink" title="sql99标准(推荐)"></a>sql99标准(推荐)</h5><ul>
<li>语法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">SELECT 查询列表</span><br><span class="line">FROM 表1 别名 </span><br><span class="line">[连接类型] JOIN 表2 别名 []</span><br><span class="line">ON 连续条件</span><br><span class="line">WHERE 筛选条件</span><br><span class="line">关键字：</span><br><span class="line">1、using</span><br><span class="line">用法类似与on</span><br><span class="line">using(id)等价于on a.id=b.id</span><br><span class="line">连接类型：</span><br><span class="line">inner 内连接</span><br><span class="line">left[outer] 左外连接</span><br><span class="line">right[outer] 右外连接</span><br><span class="line">full[outer] 全外连接 (mysql不支持)</span><br><span class="line">cross 交叉连接</span><br></pre></td></tr></table></figure>

<h6 id="内连接-1"><a href="#内连接-1" class="headerlink" title="内连接"></a>内连接</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">1、inner可以省略</span><br><span class="line">2、筛选条件放在where后面，连接条件放在on后面</span><br><span class="line">3、查询多表的交集部分</span><br></pre></td></tr></table></figure>

<ul>
<li>语法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT 查询列表</span><br><span class="line">FROM 表1 别名</span><br><span class="line">INNER JOIN 表2 别名</span><br><span class="line">ON 连接条件</span><br></pre></td></tr></table></figure>

<ul>
<li>等值连接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># 案例1：查询员工名、部门名</span><br><span class="line">SELECT name, department_name</span><br><span class="line">FROM employees e</span><br><span class="line">INNER JOIN departments d</span><br><span class="line">ON e.department=d.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 添加筛选</span><br><span class="line"># 案例2：查询名字中包含e的员工名和工种名</span><br><span class="line">SELECT name, job_name</span><br><span class="line">FROM employees e</span><br><span class="line">INNER JOIN jobs j</span><br><span class="line">ON e.job_id=j.id</span><br><span class="line">WHERE name LIKE &#x27;%e%&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 添加分组</span><br><span class="line"># 案例3：查询部门个数&gt;3的城市名和部门个数</span><br><span class="line">SELECT city_name, COUNT(*)</span><br><span class="line">FROM departments d</span><br><span class="line">INNNER JOIN citys c</span><br><span class="line">ON d.city_id=c.city_name     </span><br><span class="line">GROUP BY c.city_name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 添加排序</span><br><span class="line"># 案例4：查询员工个数&gt;3的部门名和员工个数，并按个数降序</span><br><span class="line">SELECT department_name, e.COUNT(*)</span><br><span class="line">FROM department d</span><br><span class="line">INNER JOIN employees e</span><br><span class="line">ON e.department_id=d.id</span><br><span class="line">HAVING e.COUNT(*)&gt;3</span><br><span class="line">GROUP BY department_name</span><br><span class="line">ORDER BY e.COUNT(*) DESC;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 三表连接</span><br><span class="line"># 案例5：查询员工名、部门名、工种名并按部门名降序</span><br><span class="line">SELECT name, department_name, job_name</span><br><span class="line">FROM employees e</span><br><span class="line">INNER JOIN departments d</span><br><span class="line">ON e.department_i=d.id</span><br><span class="line">INNER JOIN jobs j</span><br><span class="line">ON e.job_id=j.id </span><br><span class="line">ORDER BY department_name DESC;                      </span><br></pre></td></tr></table></figure>

<ul>
<li>非等值连接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 案例1：查询员工的工资级别</span><br><span class="line">SELECT salary, grade_level</span><br><span class="line">FROM employees e</span><br><span class="line">JOIN job_grades g</span><br><span class="line">ON e.salary BETWEEN g.lowest_sal AND g.highest_sal;</span><br></pre></td></tr></table></figure>

<ul>
<li>自连接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 案例1：查询员工的名字、上级的名字</span><br><span class="line">SELECT e.name, m.name</span><br><span class="line">FROM employees e</span><br><span class="line">JOIN employees m</span><br><span class="line">ON e.manager_id=m.id;</span><br></pre></td></tr></table></figure>

<h6 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">1、外连接的查询结果为主表中的所有记录，与副表中符合连接条件的记录。</span><br><span class="line">2、左外连接，left左边的是主表</span><br><span class="line">   右外连接，right右边的是主表</span><br></pre></td></tr></table></figure>

<ul>
<li>左(右)外连接</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 案例1 ：查询男朋友不在男生表的女生</span><br><span class="line"># 左外</span><br><span class="line">SELECT b.name, g.name</span><br><span class="line">FROM girls g</span><br><span class="line">LEFT OUTER JOIN boys b</span><br><span class="line">ON g.boyfriend_id=b.id</span><br><span class="line">[WHERE b.id IS NULL] </span><br><span class="line"># 只显示没有男朋友的女生</span><br><span class="line"></span><br><span class="line"># 右外</span><br><span class="line">SELECT b.name, g.name</span><br><span class="line">FROM boys b</span><br><span class="line">RIGHT OUTER JOIN girls g</span><br><span class="line">ON g.boyfriend_id=b.id</span><br></pre></td></tr></table></figure>

<ul>
<li>全外连接(mysql不支持)</li>
</ul>
<h6 id="交叉连接"><a href="#交叉连接" class="headerlink" title="交叉连接"></a>交叉连接</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查询结果是笛卡尔乘积</span><br></pre></td></tr></table></figure>

<h4 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">含义：出现在其他语句中的select语句，称为子查询或内查询</span><br><span class="line">      外部的查询语句称为主查询或外查询</span><br><span class="line">分类：</span><br><span class="line">按结果集的行列数不同：</span><br><span class="line">  标量子查询（结果集只有一行一列）</span><br><span class="line">  列子查询（结果集只有一列多行）</span><br><span class="line">  行子查询（结果集只有一行多列）</span><br><span class="line">  表子查询（一般情况）</span><br><span class="line">按子查询出现的位置：</span><br><span class="line">  select后：仅支持标量子查询</span><br><span class="line">  from后：仅支持表子查询</span><br><span class="line">  where或having后：标量子查询、列(行)子查询</span><br><span class="line">  exists后（相关子查询）：表子查询</span><br></pre></td></tr></table></figure>

<h5 id="where或having后面"><a href="#where或having后面" class="headerlink" title="where或having后面"></a>where或having后面</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">1、子查询放在小括号内</span><br><span class="line">2、子查询一般放在条件的右侧</span><br><span class="line">3、标量子查询，一般搭配着单行操作符使用 &lt;  &gt;  &gt;=  &lt;=  &lt;&gt;  =</span><br><span class="line">4、列子查询，一般搭配多行操作符使用  in、any/some、all</span><br></pre></td></tr></table></figure>

<h6 id="标量子查询"><a href="#标量子查询" class="headerlink" title="标量子查询"></a>标量子查询</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 案例1：谁的工资比Abel高</span><br><span class="line">SELECT *</span><br><span class="line">FROM employees</span><br><span class="line">WHERE salary&gt;(</span><br><span class="line">    SELECT salary</span><br><span class="line">    FROM employees </span><br><span class="line">    WHERE name=&#x27;Abel&#x27;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例2：返回job_id与141号员工相同，salary 比143号员工多的员工 姓名，job_id和工资</span><br><span class="line">SELECT name, job_id, salary</span><br><span class="line">FROM employees e</span><br><span class="line">WHERE e.job_id=(</span><br><span class="line">    SELECT job_id</span><br><span class="line">    FROM employees</span><br><span class="line">    WHERE employee_id=141</span><br><span class="line">)</span><br><span class="line">AND salary&gt;(</span><br><span class="line">    SELECT salary</span><br><span class="line">    FROM employees</span><br><span class="line">    WHERE employee_id=143</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h6 id="列子查询"><a href="#列子查询" class="headerlink" title="列子查询"></a>列子查询</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">1、返回多行</span><br><span class="line">2、需要配合多行比较操作符来使用：</span><br><span class="line">in/not in</span><br><span class="line">any/some</span><br><span class="line">all</span><br><span class="line"># 案例1：返回loaction_id是1400或1700的部门中的所有员工姓名</span><br><span class="line">select name</span><br><span class="line">from employees</span><br><span class="line">where department_id in(</span><br><span class="line">    select distinct department_id</span><br><span class="line">    from department</span><br><span class="line">    where location_id in(1400,1700)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例2：返回其它工种中比job_id为`IT_PROG`工种所有员工的工资都要低的员工的员工号、姓名</span><br><span class="line">select id,name</span><br><span class="line">from employees</span><br><span class="line">where salary &lt; all(  # min</span><br><span class="line">    select distinct salary </span><br><span class="line">    from employees</span><br><span class="line">    where job_id = &#x27;IT_PROG&#x27;</span><br><span class="line">) and job_id != &#x27;IT_PROG&#x27;;</span><br></pre></td></tr></table></figure>

<h6 id="行子查询"><a href="#行子查询" class="headerlink" title="行子查询"></a>行子查询</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">特点：返回一行多列</span><br><span class="line"># 案例1：查询员工编号最少并且工资最高的员工信息</span><br><span class="line">select *</span><br><span class="line">from employees</span><br><span class="line">where (employee_id,salary)=(</span><br><span class="line">    select min(employee_id),max(salary)</span><br><span class="line">    from employees</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h5 id="select后面"><a href="#select后面" class="headerlink" title="select后面"></a>select后面</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">特点：只支持一行一列（标量子查询）</span><br><span class="line"># 案例1：查询每个部门的员工的个数</span><br><span class="line">select e.*,(</span><br><span class="line">    select count(*)</span><br><span class="line">    from employees e</span><br><span class="line">    where e.department_id=d.department_id</span><br><span class="line">) 个数</span><br><span class="line">from department d;</span><br></pre></td></tr></table></figure>

<h5 id="from后面"><a href="#from后面" class="headerlink" title="from后面"></a>from后面</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">特点：将select返回的结果当作表（数据源）来使用</span><br><span class="line">必须起别名</span><br><span class="line"># 案例1、查询每个部门的平均工资的工资等级</span><br><span class="line">select ag_dep.*, grade.level</span><br><span class="line">from(</span><br><span class="line">   select avg(salary) ag ,department_id</span><br><span class="line">   from employees</span><br><span class="line">   group by department_id</span><br><span class="line">) ag_dep</span><br><span class="line">inner join job_grades g</span><br><span class="line">on ag_dep.ag between lowest_sal and highest_sal;</span><br></pre></td></tr></table></figure>

<h5 id="exists后面（相关子查询）"><a href="#exists后面（相关子查询）" class="headerlink" title="exists后面（相关子查询）"></a>exists后面（相关子查询）</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">exists语法：</span><br><span class="line">exists(完整的查询语句)</span><br><span class="line">结果：1或0</span><br><span class="line"># 案例1：查询有员工的部门名</span><br><span class="line">select department_name</span><br><span class="line">from departments d</span><br><span class="line">where exists(</span><br><span class="line">    select *</span><br><span class="line">    from employees e</span><br><span class="line">    where d.department_id=e.department_id</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">特点：</span><br><span class="line">limit语句放在查询语句的最后</span><br><span class="line"></span><br><span class="line">如果要显示的页数为pages，每页的条目数为size</span><br><span class="line">则可以写为limit (page-1)*size,size;</span><br></pre></td></tr></table></figure>

<ul>
<li>语法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">select 查询列表</span><br><span class="line">from 表1</span><br><span class="line">[join type join 表2</span><br><span class="line">on 连接条件</span><br><span class="line">where 筛选条件</span><br><span class="line">group by 分组字段</span><br><span class="line">having 分组后的筛选</span><br><span class="line">order by 排序的字段]</span><br><span class="line">limit 分页语句;</span><br><span class="line">limit后分页条件有两种：</span><br><span class="line">  1、limit后跟着两个数字（只有一个数字时默认第一个数字为0）：</span><br><span class="line">    limit 1,3;</span><br><span class="line">    表示查询3条数据，跳过1条数据（即查询2，3，4）</span><br><span class="line">  2、limit和offset关键字组合使用：</span><br><span class="line">    limit 5 offset 4;</span><br><span class="line">    表示查询5条数据，跳过4条（即查询5，6，7，8，9）</span><br></pre></td></tr></table></figure>

<ul>
<li>案例</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 案例1：查询前五条员工信息</span><br><span class="line">select * from employees limit 0,5;</span><br><span class="line">select * from employees limit 5;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例2：查询第11条到第25条</span><br><span class="line">select * from employees limit 10,15;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 案例3：查询有奖金的前十名员工的信息</span><br><span class="line">select * </span><br><span class="line">from employees </span><br><span class="line">where commission_pct is not null</span><br><span class="line">order by salary desc</span><br><span class="line">limit 10;</span><br></pre></td></tr></table></figure>

<h4 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">应用场景：</span><br><span class="line">当要查询的结果来自多个表，且多个表没有直接的连接关系，但是查询的信息一致</span><br></pre></td></tr></table></figure>

<ul>
<li>语法</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查询语句1</span><br><span class="line">union</span><br><span class="line">查询语句2</span><br><span class="line">union</span><br><span class="line">···</span><br></pre></td></tr></table></figure>

<h2 id="DML增删改"><a href="#DML增删改" class="headerlink" title="DML增删改"></a>DML增删改</h2><h4 id="插入语句"><a href="#插入语句" class="headerlink" title="插入语句"></a>插入语句</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、插入的值的类型要与列的类型一致或兼容</span><br><span class="line">2、为nullable的列插入null的方法：</span><br><span class="line">   ①列名对应的值为null</span><br><span class="line">   ②不写列名和值</span><br><span class="line">3、列的顺序可以调换</span><br><span class="line">4、列名的个数必须与值的个数保持一致</span><br><span class="line">5、可以省略列名，默认所有列，并且列的顺序和表中列的顺序一致</span><br></pre></td></tr></table></figure>

<ul>
<li>语法1</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名 (列名) value(值);</span><br></pre></td></tr></table></figure>

<ul>
<li>语法2</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名</span><br><span class="line">set 列名1=值1, 列名2=值2;</span><br><span class="line">两种插入方式的比较：</span><br><span class="line">1、方式一支持插入多行，方式二不支持</span><br><span class="line">2、方式一支持子查询，方式二不支持</span><br></pre></td></tr></table></figure>

<h4 id="修改语句"><a href="#修改语句" class="headerlink" title="修改语句"></a>修改语句</h4><h5 id="单表修改"><a href="#单表修改" class="headerlink" title="单表修改"></a>单表修改</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">update 表名</span><br><span class="line">set 字段=值,...</span><br><span class="line">where 筛选条件</span><br></pre></td></tr></table></figure>

<h5 id="联表修改"><a href="#联表修改" class="headerlink" title="联表修改"></a>联表修改</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">update 表1 别名</span><br><span class="line">inner|left|right join 表2 别名</span><br><span class="line">on 连接条件</span><br><span class="line">set 字段=值,...</span><br><span class="line">where 筛选条件</span><br></pre></td></tr></table></figure>

<h4 id="删除语句"><a href="#删除语句" class="headerlink" title="删除语句"></a>删除语句</h4><h5 id="单表删除"><a href="#单表删除" class="headerlink" title="单表删除"></a>单表删除</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete from 表名 where 筛选条件</span><br><span class="line"># 不指定where则s</span><br></pre></td></tr></table></figure>

<h5 id="联表删除"><a href="#联表删除" class="headerlink" title="联表删除"></a>联表删除</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">delete 别名</span><br><span class="line">from 表1名 别名</span><br><span class="line">inner|left|right join 表2 别名</span><br><span class="line">on 连接条件</span><br><span class="line">where 筛选条件</span><br></pre></td></tr></table></figure>

<h5 id="truncate清空表中的数据"><a href="#truncate清空表中的数据" class="headerlink" title="truncate清空表中的数据"></a>truncate清空表中的数据</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">truncate [table] 表名;</span><br><span class="line"># 关键词table可以省略</span><br></pre></td></tr></table></figure>

<p>区别：</p>
<p>1、truncate清空整个表，属于DDL语句，不能回滚</p>
<p>2、delete删除不会清除自增的数据</p>
<h2 id="DDL数据定义语句"><a href="#DDL数据定义语句" class="headerlink" title="DDL数据定义语句"></a>DDL数据定义语句</h2><h4 id="库"><a href="#库" class="headerlink" title="库"></a>库</h4><h5 id="创建库"><a href="#创建库" class="headerlink" title="创建库"></a>创建库</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create database 库名;</span><br><span class="line"># 如果库已经存在会报错</span><br><span class="line">create database if not exists 库名;</span><br><span class="line"># 如果不存在则创建，存在不会报错</span><br></pre></td></tr></table></figure>

<h5 id="修改库字符集"><a href="#修改库字符集" class="headerlink" title="修改库字符集"></a>修改库字符集</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter database 库名 character set 字符集名;</span><br></pre></td></tr></table></figure>

<h5 id="删除库"><a href="#删除库" class="headerlink" title="删除库"></a>删除库</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">drop database 库名;</span><br><span class="line"># 如果库不存在会报错</span><br><span class="line">drop database if exists 库名;</span><br><span class="line"># 如果存在则创建，不存在不会报错</span><br></pre></td></tr></table></figure>

<h4 id="表"><a href="#表" class="headerlink" title="表"></a>表</h4><h5 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table 表名(</span><br><span class="line">	字段名 字段的类型 [(长度) 约束],</span><br><span class="line">	字段名 字段的类型 [(长度) 约束],</span><br><span class="line">	...</span><br><span class="line">	字段名 字段的类型 [(长度) 约束]</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h5 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 修改字段名 字段的类型 [(长度) 约束]</span><br><span class="line">alter table 表名 change [column] 原字段名 [新字段名] 字段类型;</span><br><span class="line"># 修改字段类型</span><br><span class="line">alter table 表名 modify [column] 字段名 新字段类型 [新约束];</span><br><span class="line"># 添加字段</span><br><span class="line">alter table 表名 add 字段名 字段的类型 [(长度) 约束];</span><br><span class="line"># 删除字段</span><br><span class="line">alter table 表名 drop [column] 字段名;</span><br><span class="line"># 修改表名</span><br><span class="line">alter table 表名 rename to 新表名;</span><br></pre></td></tr></table></figure>

<h5 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table [if exists] book_author;</span><br></pre></td></tr></table></figure>

<h5 id="复制表"><a href="#复制表" class="headerlink" title="复制表"></a>复制表</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 复制结构</span><br><span class="line">create table 新表名 like 原表名;</span><br><span class="line"># 复制结构+全部数据</span><br><span class="line">create table 新表名 select * from 旧表名;</span><br><span class="line"># 复制部分结构+部分数据</span><br><span class="line">create table 新表名 select [字段名] from 旧表名 [条件语句];</span><br></pre></td></tr></table></figure>

<h2 id="存储过程（procedure）"><a href="#存储过程（procedure）" class="headerlink" title="存储过程（procedure）"></a>存储过程（procedure）</h2><p>存储过程是<strong>一组为了完成特定功能的SQL语句集合</strong>。使用存储过程的目的是<strong>将常用或复杂的工作预先用SQL语句写好并用一个指定名称存储起来</strong>，这个过程经编译和优化后存储在数据库服务器中，因此称为存储过程。当以后需要数据库提供与已定义好的存储过程的功能相同的服务时，只需用 <code>CALL</code> 调用这个存储过程即可。</p>
<h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE PROCEDURE 存储过程名(IN|OUT|INOUT 参数名 参数类型,...) </span><br><span class="line">BEGIN</span><br><span class="line">	存储过程体 </span><br><span class="line">END</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>delimiter</code> 命令：</p>
<p>在 MySQL 中，服务器处理 SQL 语句默认是以分号作为语句结束标志的。然而，在创建存储过程时，存储过程体可能包含有多条 SQL 语句，这些 SQL 语句如果仍以分号作为语句结束符，那么 MySQL 服务器在处理时会以遇到的第一条 SQL 语句结尾处的分号作为整个程序的结束符，而不再去处理存储过程体中后面的 SQL 语句，这样显然不行。为解决这个问题，通常可使用 DELIMITER 命令将结束命令修改为其他字符。在创建存储过程最后的 end 后写上修改的结束符，表示语句结束。</p>
<p><code>delimiter //</code> 将结束符修改为&#x2F;&#x2F;</p>
<p><code>delimiter ;</code> 将结束符修改为;</p>
</blockquote>
<h4 id="例：创建不带参数的存储过程"><a href="#例：创建不带参数的存储过程" class="headerlink" title="例：创建不带参数的存储过程"></a>例：创建不带参数的存储过程</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">delimiter //</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">create procedure <span class="built_in">test</span>()</span></span><br><span class="line">    -&gt; begin</span><br><span class="line">    -&gt; update t_user set c_name = &quot;hello&quot; where id = 1;</span><br><span class="line">    -&gt; end //</span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">delimiter ;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">调用存储过程</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">call <span class="built_in">test</span>;</span></span><br></pre></td></tr></table></figure>

<h4 id="例：创建带参数的存储过程"><a href="#例：创建带参数的存储过程" class="headerlink" title="例：创建带参数的存储过程"></a>例：创建带参数的存储过程</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">delimiter //</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">create procedure <span class="built_in">test</span></span></span><br><span class="line">    -&gt; (IN name varchar(30))</span><br><span class="line">    -&gt; begin</span><br><span class="line">    -&gt; update t_user set c_name = name where id = 1;</span><br><span class="line">    -&gt; end //</span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">delimiter ;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">调用存储过程</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">call <span class="built_in">test</span>(<span class="string">&#x27;hello&#x27;</span>)</span></span><br></pre></td></tr></table></figure>

<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">drop procudure <span class="built_in">test</span>;</span></span><br></pre></td></tr></table></figure>

<h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有存储过程</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">show procedure status;</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看指定存储过程</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">show procedure status like 存储过程名;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>参考</p>
<p>[MySQL之存储过程（PROCEDURE） - 菜菜成长记 - 博客园 (cnblogs.com)](</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://fengye404.top">风业</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://fengye404.top/2021/04/20/MySQL%E5%9F%BA%E7%A1%80/">https://fengye404.top/2021/04/20/MySQL基础/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="https://q1.qlogo.cn/g?b=qq&amp;nk=1129126684&amp;s=640" data-sites="twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2021/08/28/RabbitMQ%E7%AC%94%E8%AE%B0/" title="RabbitMQ笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">RabbitMQ笔记</div></div><div class="info-2"><div class="info-item-1">docker安装RabbitMQ1234567docker run \-d --name myrabbitmq \-p 5672:5672 -p 15672:15672 \-v rabbitmqData:/var/lib/rabbitmq \-e RABBITMQ_DEFAULT_USER=username \-e RABBITMQ_DEFAULT_PASS=password \rabbitmq:management  几种基础模型基础生产者与消费者模型 一对一 生产者生产消息后放入消息队列，消费者从队列中获得消息后进行消费。  生产者代码 1234567891011121314151617181920212223242526272829303132333435363738394041public class Provider &#123;    @Test    public void testSendMessage() throws IOException, TimeoutException &#123;        //创建连接mq的连接工厂对象       ...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://q1.qlogo.cn/g?b=qq&amp;nk=1129126684&amp;s=640" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">风业</div><div class="author-info-description">fengye's blog</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">27</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/fengye404"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">my new hexo blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#DQL%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.</span> <span class="toc-text">DQL查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.1.</span> <span class="toc-text">基础查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.2.</span> <span class="toc-text">条件查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.3.</span> <span class="toc-text">模糊查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.4.</span> <span class="toc-text">排序查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.5.</span> <span class="toc-text">常见函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.5.1.</span> <span class="toc-text">单行函数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E5%87%BD%E6%95%B0"><span class="toc-number">1.0.5.2.</span> <span class="toc-text">分组函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.6.</span> <span class="toc-text">分组查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.7.</span> <span class="toc-text">连接查询&#x2F;多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#sql92%E6%A0%87%E5%87%86"><span class="toc-number">1.0.7.1.</span> <span class="toc-text">sql92标准</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.0.7.1.1.</span> <span class="toc-text">内连接</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sql99%E6%A0%87%E5%87%86-%E6%8E%A8%E8%8D%90"><span class="toc-number">1.0.7.2.</span> <span class="toc-text">sql99标准(推荐)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5-1"><span class="toc-number">1.0.7.2.1.</span> <span class="toc-text">内连接</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.0.7.2.2.</span> <span class="toc-text">外连接</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.0.7.2.3.</span> <span class="toc-text">交叉连接</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.8.</span> <span class="toc-text">子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#where%E6%88%96having%E5%90%8E%E9%9D%A2"><span class="toc-number">1.0.8.1.</span> <span class="toc-text">where或having后面</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A0%87%E9%87%8F%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.8.1.1.</span> <span class="toc-text">标量子查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%97%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.8.1.2.</span> <span class="toc-text">列子查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.8.1.3.</span> <span class="toc-text">行子查询</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#select%E5%90%8E%E9%9D%A2"><span class="toc-number">1.0.8.2.</span> <span class="toc-text">select后面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#from%E5%90%8E%E9%9D%A2"><span class="toc-number">1.0.8.3.</span> <span class="toc-text">from后面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#exists%E5%90%8E%E9%9D%A2%EF%BC%88%E7%9B%B8%E5%85%B3%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="toc-number">1.0.8.4.</span> <span class="toc-text">exists后面（相关子查询）</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.9.</span> <span class="toc-text">分页查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.10.</span> <span class="toc-text">联合查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DML%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="toc-number">2.</span> <span class="toc-text">DML增删改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.0.1.</span> <span class="toc-text">插入语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.0.2.</span> <span class="toc-text">修改语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E8%A1%A8%E4%BF%AE%E6%94%B9"><span class="toc-number">2.0.2.1.</span> <span class="toc-text">单表修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%81%94%E8%A1%A8%E4%BF%AE%E6%94%B9"><span class="toc-number">2.0.2.2.</span> <span class="toc-text">联表修改</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.0.3.</span> <span class="toc-text">删除语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E8%A1%A8%E5%88%A0%E9%99%A4"><span class="toc-number">2.0.3.1.</span> <span class="toc-text">单表删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%81%94%E8%A1%A8%E5%88%A0%E9%99%A4"><span class="toc-number">2.0.3.2.</span> <span class="toc-text">联表删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#truncate%E6%B8%85%E7%A9%BA%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">2.0.3.3.</span> <span class="toc-text">truncate清空表中的数据</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DDL%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E5%8F%A5"><span class="toc-number">3.</span> <span class="toc-text">DDL数据定义语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%93"><span class="toc-number">3.0.1.</span> <span class="toc-text">库</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%BA%93"><span class="toc-number">3.0.1.1.</span> <span class="toc-text">创建库</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%BA%93%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">3.0.1.2.</span> <span class="toc-text">修改库字符集</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%BA%93"><span class="toc-number">3.0.1.3.</span> <span class="toc-text">删除库</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8"><span class="toc-number">3.0.2.</span> <span class="toc-text">表</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">3.0.2.1.</span> <span class="toc-text">创建表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8"><span class="toc-number">3.0.2.2.</span> <span class="toc-text">修改表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">3.0.2.3.</span> <span class="toc-text">删除表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E8%A1%A8"><span class="toc-number">3.0.2.4.</span> <span class="toc-text">复制表</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%EF%BC%88procedure%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">存储过程（procedure）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA"><span class="toc-number">4.1.</span> <span class="toc-text">创建</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%EF%BC%9A%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">4.1.1.</span> <span class="toc-text">例：创建不带参数的存储过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%8B%EF%BC%9A%E5%88%9B%E5%BB%BA%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">4.1.2.</span> <span class="toc-text">例：创建带参数的存储过程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">4.2.</span> <span class="toc-text">删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B"><span class="toc-number">4.3.</span> <span class="toc-text">查看</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/29/OSPP%E5%8F%82%E4%B8%8E%E8%AE%B0%E5%BD%95/" title="OSPP参与记录">OSPP参与记录</a><time datetime="2024-09-29T07:58:07.000Z" title="Created 2024-09-29 15:58:07">2024-09-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/04/28/%E9%83%A8%E7%BD%B2Grafana-Prometheus-Exporter/" title="部署Grafana+Prometheus+Exporter">部署Grafana+Prometheus+Exporter</a><time datetime="2023-04-28T07:50:12.000Z" title="Created 2023-04-28 15:50:12">2023-04-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/01/29/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E6%9C%BA%E5%88%B6/" title="类加载机制">类加载机制</a><time datetime="2023-01-29T07:49:36.000Z" title="Created 2023-01-29 15:49:36">2023-01-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/01/24/Redis%E7%AC%94%E8%AE%B0/" title="Redis笔记">Redis笔记</a><time datetime="2023-01-24T07:49:03.000Z" title="Created 2023-01-24 15:49:03">2023-01-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/01/18/%E9%85%8D%E7%BD%AEHTTPS/" title="配置HTTPS">配置HTTPS</a><time datetime="2023-01-18T07:48:21.000Z" title="Created 2023-01-18 15:48:21">2023-01-18</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2024 By 风业</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>